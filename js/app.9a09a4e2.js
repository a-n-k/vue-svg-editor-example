(function(t){function e(e){for(var a,l,r=e[0],o=e[1],c=e[2],u=0,d=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var o=s[r];0!==n[o]&&(a=!1)}a&&(i.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},n={app:0},i=[];function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/vue-svg-editor-example/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var p=o;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1be9":function(t,e,s){},"234e":function(t,e,s){"use strict";var a=s("f6ae"),n=s.n(a);n.a},"2e9c":function(t,e,s){},"35fb":function(t,e,s){"use strict";var a=s("7541"),n=s.n(a);n.a},"36a3":function(t,e,s){},"36a4":function(t,e,s){"use strict";var a=s("803b"),n=s.n(a);n.a},"4d9d":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("router-view")],1)},i=[];const l="SVG Editor",r=" - ";var o={methods:{setTitle(t){document.title=t?[l,t].join(r):l}},mounted(){const t=this.$route.meta;this.setTitle(t&&t.title)},watch:{$route(t){const e=t.meta;this.setTitle(e&&e.title)}}},c=o,p=(s("36a4"),s("2877")),u=Object(p["a"])(c,n,i,!1,null,null,null),d=u.exports,h=s("8c4f"),m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"not-found"},[s("h3",[t._v("Page is not found")])])}],f={name:"not-found"},C=f,y=(s("234e"),Object(p["a"])(C,m,v,!1,null,null,null)),_=y.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"welcome"},[s("h2",[t._v("Welcome to SVG Editor")]),s("div",{staticClass:"info"},[s("router-link",{attrs:{to:"/projects"}},[t._v("List of the Projects")])],1)])},E=[],b={name:"welcome"},x=b,j=(s("dee7"),Object(p["a"])(x,g,E,!1,null,null,null)),S=j.exports,P=[{path:"*",component:_,meta:{title:"Page not found"}},{path:"/",component:S}],O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"list"},[t.projects.length?s("div",{staticClass:"items"},t._l(t.projects,(function(e){return s("router-link",{key:e.id,staticClass:"rr-link",attrs:{tag:"div",to:t.link(e.id)}},[s("div",{staticClass:"item"},[s("div",{staticClass:"project-icon"}),s("div",{staticClass:"name"},[s("div",{staticClass:"value"},[t._v(t._s(e.name))])])])])})),1):s("div",{staticClass:"empty-msg"},[s("p",[t._v("Projects not exists")])])]),s("hr"),s("div",{staticClass:"new-project"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.newProject(e)}}},[s("div",{staticClass:"clm"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.model.name,expression:"model.name",modifiers:{lazy:!0,trim:!0}}],staticClass:"ipt",attrs:{type:"text",placeholder:"Project Name",required:"",pattern:"[A-Za-z0-9 ]{3,50}",title:"Only letters, numbers and spaces. Length is min:3, max:50"},domProps:{value:t.model.name},on:{change:function(e){t.$set(t.model,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._m(0)])])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clm"},[s("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Create New Project")])])}],T=s("2f62");const A={PROJECTS:"projects",SHAPE_TYPES:"shapeTypes",CURRENT_INFO:"currentInfo"},R={SET_PROJECTS:"setProjects",SET_PROJECT:"setProject",RESET_PROJECT:"resetProject",ADD_NEW_PROJECT:"addNewProject",REMOVE_PROJECT:"removeProject",ADD_NEW_SHAPE:"addNewShape",SET_SHAPES:"setShapes",SET_FIGURE:"setFigure",REMOVE_SHAPE:"removeShape",CHANGE_SIZE:"changeSize",RESET_SIZE:"resetSize",CHANGE_SHAPE_INDEX:"changeShapeIndex",CHANGE_SHAPE_OPTION:"changeShapeOption",RESET_SHAPE_OPTIONS:"resetShapeOptions",SET_SAVED_INFO:"setSavedInfo"},N={LOAD_PROJECTS:"loadProjects",LOAD_PROJECT:"loadProject",CREATE_NEW_PROJECT:"createNewProject",DELETE_PROJECT:"deleteProject",CREATE_NEW_SHAPE:"createNewShape",LOAD_SHAPES:"loadShapes",DELETE_SHAPE:"deleteShape",SAVE_ALL:"saveAll"},k="/project/",z=N.LOAD_PROJECTS,I=N.CREATE_NEW_PROJECT;var D={name:"projects",data(){return{model:{name:""}}},computed:{...Object(T["c"])([A.PROJECTS])},methods:{...Object(T["b"])([z,I]),link(t){return k+t},async newProject(){await this[I](this.model),this.model.name=""}},async created(){await this[z]()}},H=D,$=(s("ad2c"),Object(p["a"])(H,O,w,!1,null,"ea791650",null)),J=$.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.project?s("div",{staticClass:"project"},[s("div",{staticClass:"header flex-v-center"},[s("div",{staticClass:"flex-r-inline tb-trash"},[s("span",{staticClass:"icon trash",attrs:{title:"Delete Project"},on:{click:function(e){return e.preventDefault(),t.onProjectRemove(e)}}})]),s("div",{staticClass:"flex-l-inline"},[s("router-link",{attrs:{to:"/"}},[t._v("home")]),s("span",{staticClass:"icon sep arrow"}),s("router-link",{attrs:{to:"/projects"}},[t._v("projects")]),s("span",{staticClass:"icon sep arrow"}),s("span",{staticClass:"name"},[t._v(t._s(t.project.name))])],1)]),s("toolbar"),s("div",{staticClass:"frame"},[s("div",{staticClass:"column"},[s("list")],1),s("div",{staticClass:"column clm-center"},[s("preview")],1),s("div",{staticClass:"column"},[s("setting")],1)])],1):s("div",{staticClass:"empty-msg"},[s("p",[t._v("Project not exists")]),s("p",{staticClass:"link"},[s("router-link",{attrs:{to:"/projects"}},[t._v("Please visit to projects page")])],1)])},F=[],V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toolbar flex-v-center"},[s("div",{staticClass:"flex-l-inline"},[s("span",[t._v("Shape")]),s("button",{attrs:{title:"Delete Shape",disabled:!t.isShapeSelected},on:{click:function(e){return e.preventDefault(),t.onShapeRemove(e)}}},[s("span",{staticClass:"icon trash"})]),s("form",[s("select",{on:{change:t.onShapeAdd}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Add New")]),t._l(t.shapeTypes,(function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e.name))])}))],2)])]),s("div",{staticClass:"tb-sep"}),s("div",{staticClass:"flex-l-inline"},[s("span",[t._v("Canvas")]),s("button",{attrs:{title:"Reset Size",disabled:!t.isSizeChanged},on:{click:function(e){return e.preventDefault(),t.onResetSize(e)}}},[s("span",{staticClass:"icon reset"})]),s("form",[s("div",{staticClass:"s-field"},[s("label",[t._v("width"),s("input",{staticClass:"ipt",attrs:{type:"text",name:"width"},domProps:{value:t.size.width},on:{change:t.onChangeSize}})])]),s("div",{staticClass:"s-field"},[s("label",[t._v("height"),s("input",{staticClass:"ipt",attrs:{type:"text",name:"height"},domProps:{value:t.size.height},on:{change:t.onChangeSize}})])])])]),s("div",{staticClass:"tb-sep"}),s("div",{staticClass:"flex-l-inline"},[s("button",{staticClass:"save-all",attrs:{disabled:!t.needSave},on:{click:t.onSaveAll}},[t._v("Save All")])])])},G=[];const W="Are you sure want to delete the shape?",{SHAPE_TYPES:U,CURRENT_INFO:q}=A,{CREATE_NEW_SHAPE:M,DELETE_SHAPE:Z,SAVE_ALL:B}=N,{CHANGE_SIZE:X,RESET_SIZE:Y}=R;var K={computed:{...Object(T["c"])([U,q]),isShapeSelected(){return!!this[q].figure},project(){return this[q].project},size(){const t=this.project;return t&&t.value.size||{}},isSizeChanged(){const t=this.project;return t&&t.isChanged.size},needSave(){const{size:t,shapes:e}=this.project.isChanged;return t||e}},methods:{...Object(T["b"])([M,Z,B]),...Object(T["d"])([X,Y]),onShapeRemove(){confirm(W)&&this[Z]()},async onShapeAdd(t){const e=t.target,s=e.value;if(""===s)return;const a=this[U][Number(s)];await this[M](a),e.value=""},onResetSize(){this[Y]()},onChangeSize(t){const{name:e,value:s}=t.target;this[X]({name:e,value:s,dataType:"int"})},async onSaveAll(){await this[B]()}}},Q=K,tt=(s("9042"),Object(p["a"])(Q,V,G,!1,null,"e4fc7c82",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[t.shapes.length?s("div",t._l(t.shapes,(function(t){return s("item",{key:t.value.id,attrs:{info:t}})})),1):s("div",{staticClass:"empty-msg empty"},[s("p",[t._v("Shapes are not exists")]),s("p",{staticClass:"add"},[t._v("Please add new shape from toolbar above")])])])},at=[],nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-v-center item",class:{selected:t.isSelected},on:{click:function(e){return e.preventDefault(),t.onClick(e)}}},[s("div",{staticClass:"icon",class:t.value.type},["text"===t.value.type?s("span",[t._v("T")]):t._e()]),s("div",{staticClass:"label"},[t._v(t._s(t.label))])])},it=[];const lt=A.CURRENT_INFO,rt=R.SET_FIGURE;var ot={name:"item",props:["info"],computed:{...Object(T["c"])([lt]),current(){return this[lt].figure},value(){return this.info.value},label(){const t=this.value;return[t.name,t.index].join(" - ")},isSelected(){const t=this.current;return!!t&&t.value.id===this.value.id}},methods:{...Object(T["d"])([rt]),onClick(){const t=this.isSelected?null:this.info;this[rt](t)}}},ct=ot,pt=(s("7d34"),Object(p["a"])(ct,nt,it,!1,null,"33a5bdcd",null)),ut=pt.exports;const dt=A.CURRENT_INFO,ht=N.LOAD_SHAPES;var mt={name:"list",components:{Item:ut},computed:{...Object(T["c"])([dt]),shapes(){return this[dt].shapes}},methods:{...Object(T["b"])([ht])},async created(){await this[ht]()}},vt=mt,ft=(s("5dc4"),Object(p["a"])(vt,st,at,!1,null,"573ce8d5",null)),Ct=ft.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview"},[s("svg-holder")],1)},_t=[],gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"svg-holder",style:t.style},[s("svg-canvas",{attrs:{shapes:t.shapes,size:t.size}})],1)},Et=[],bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:t.viewBox}},t._l(t.shapes,(function(e){return s(t.componentName(e.type),{key:e.id,tag:"component",attrs:{options:e.options}})})),1)},xt=[],jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("circle",{style:t.style,attrs:{cx:t.options.cx,cy:t.options.cy,r:t.options.r}})},St=[];const Pt={props:{options:{type:Object,required:!0}},computed:{style(){const{fill:t,stroke:e,font:s}=this.options,a=e.width,n=e.linecap,i=e.dasharray,l={};if(t&&(l.fill=t.color,l.fillOpacity=t.opacity),a&&(l.stroke=e.color,l.strokeWidth=a,l.strokeOpacity=e.opacity,n&&"butt"!==n&&(l.strokeLinecap=n),i&&(l.strokeDasharray=i)),s){const t=s.family,e=s.size,a=s.weight;t&&(l.fontFamily=t),e&&(l.fontSize=e),a&&(l.fontWeight=a)}return l}}};var Ot={name:"svg-circle",mixins:[Pt]},wt=Ot,Tt=Object(p["a"])(wt,jt,St,!1,null,null,null),At=Tt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ellipse",{style:t.style,attrs:{cx:t.options.cx,cy:t.options.cy,rx:t.options.rx,ry:t.options.ry}})},Nt=[],kt={name:"svg-ellipse",mixins:[Pt]},zt=kt,It=Object(p["a"])(zt,Rt,Nt,!1,null,null,null),Dt=It.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("line",{style:t.style,attrs:{x1:t.options.x1,y1:t.options.y1,x2:t.options.x2,y2:t.options.y2}})},$t=[],Jt={name:"svg-line",mixins:[Pt]},Lt=Jt,Ft=Object(p["a"])(Lt,Ht,$t,!1,null,null,null),Vt=Ft.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("rect",t._b({style:t.style,attrs:{x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height}},"rect",t.rounded,!1))},Wt=[],Ut={name:"svg-rect",mixins:[Pt],computed:{rounded(){const t={},e=this.options,s=e.rx,a=e.ry;return s&&(t.rx=s),a&&(t.ry=a),t}}},qt=Ut,Mt=Object(p["a"])(qt,Gt,Wt,!1,null,null,null),Zt=Mt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("text",{style:t.style,attrs:{x:t.options.x,y:t.options.y}},[t._v(t._s(t.options.value))])},Xt=[],Yt={name:"svg-text",mixins:[Pt]},Kt=Yt,Qt=Object(p["a"])(Kt,Bt,Xt,!1,null,null,null),te=Qt.exports,ee={name:"svg-canvas",components:{SvgCircle:At,SvgEllipse:Dt,SvgLine:Vt,SvgRect:Zt,SvgText:te},props:{size:{type:Object,required:!0},shapes:{type:Array,required:!0}},computed:{viewBox(){const t=this.size;return[0,0,t.width||0,t.height||0].join(" ")}},methods:{componentName(t){return["svg",t].join("-")}}},se=ee,ae=Object(p["a"])(se,bt,xt,!1,null,null,null),ne=ae.exports;const{CURRENT_INFO:ie}=A;var le={components:{SvgCanvas:ne},computed:{...Object(T["c"])([ie]),project(){return this[ie].project},size(){const t=this.project;return t&&t.value.size},shapes(){return this[ie].shapes.map(t=>t.value)},style(){const t=this.size;return t&&{width:t.width+t.unit,height:t.height+t.unit}}}},re=le,oe=(s("f245"),Object(p["a"])(re,gt,Et,!1,null,null,null)),ce=oe.exports,pe={components:{SvgHolder:ce}},ue=pe,de=(s("df36"),Object(p["a"])(ue,yt,_t,!1,null,"49d311c2",null)),he=de.exports,me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setting"},[s("svg-forms")],1)},ve=[],fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.figure?s("div",{staticClass:"forms"},[s("div",{staticClass:"header flex-v-center"},[s("div",{staticClass:"flex-l-inline"},[s("button",{attrs:{title:"Reset Shape Options",disabled:!t.isChanged},on:{click:function(e){return e.preventDefault(),t.onReset(e)}}},[s("span",{staticClass:"icon reset"})])]),s("div",{staticClass:"flex-l-inline"},[t._v(t._s(t.fValue.name))])]),s("form",{staticClass:"f-form"},[s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("zIndex")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int"},domProps:{value:t.fValue.index},on:{change:t.onChangeIndex}})])]),s(t.componentName(t.fValue.type),{tag:"component",attrs:{options:t.fValue.options}}),s("sections",{attrs:{options:t.fValue.options}})],1)]):s("div",{staticClass:"empty-msg empty"},[s("p",[t._v("Please select shape from list")])])},Ce=[],ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("coordinates")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("cx")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"cx"},domProps:{value:t.options.cx},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("cy")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"cy"},domProps:{value:t.options.cy},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("r")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"r"},domProps:{value:t.options.r},on:{change:t.onChange}})])])])},_e=[];const{CHANGE_SHAPE_OPTION:ge}=R;var Ee={props:{options:{type:Object,required:!0}},methods:{...Object(T["d"])([ge]),onChange(t){const{name:e,value:s,dataset:a}=t.target,n=this.$options.secName,i={secName:n,propName:e,value:s,dataType:a.type};this[ge](i)}}},be={name:"form-circle",secName:"",mixins:[Ee]},xe=be,je=Object(p["a"])(xe,ye,_e,!1,null,null,null),Se=je.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("coordinates")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("cx")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"cx"},domProps:{value:t.options.cx},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("cy")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"cy"},domProps:{value:t.options.cy},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("rx")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"rx"},domProps:{value:t.options.rx},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("ry")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"ry"},domProps:{value:t.options.ry},on:{change:t.onChange}})])])])},Oe=[],we={name:"form-ellipse",secName:"",mixins:[Ee]},Te=we,Ae=Object(p["a"])(Te,Pe,Oe,!1,null,null,null),Re=Ae.exports,Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("coordinates")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("x1")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"x1"},domProps:{value:t.options.x1},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("y1")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"y1"},domProps:{value:t.options.y1},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("x2")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"x2"},domProps:{value:t.options.x2},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("y2")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"y2"},domProps:{value:t.options.y2},on:{change:t.onChange}})])])])},ke=[],ze={name:"form-line",secName:"",mixins:[Ee]},Ie=ze,De=Object(p["a"])(Ie,Ne,ke,!1,null,null,null),He=De.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("coordinates")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("x")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"x"},domProps:{value:t.options.x},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("y")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"y"},domProps:{value:t.options.y},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("rx")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"rx"},domProps:{value:t.options.rx},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("ry")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"ry"},domProps:{value:t.options.ry},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("width")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"width"},domProps:{value:t.options.width},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("height")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"height"},domProps:{value:t.options.height},on:{change:t.onChange}})])])])},Je=[],Le={name:"form-rect",secName:"",mixins:[Ee]},Fe=Le,Ve=Object(p["a"])(Fe,$e,Je,!1,null,null,null),Ge=Ve.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("value")]),s("input",{staticClass:"ipt-long",attrs:{type:"text","data-type":"string",name:"value"},domProps:{value:t.options.value},on:{change:t.onChange}})])]),s("fieldset",[s("legend",[t._v("coordinates")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("x")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"x"},domProps:{value:t.options.x},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("y")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"y"},domProps:{value:t.options.y},on:{change:t.onChange}})])])])])},Ue=[],qe={name:"form-text",secName:"",mixins:[Ee]},Me=qe,Ze=Object(p["a"])(Me,We,Ue,!1,null,null,null),Be=Ze.exports,Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.fill?s("fill",{attrs:{options:t.fill}}):t._e(),s("stroke",{attrs:{options:t.stroke}}),t.font?s("font",{attrs:{options:t.font}}):t._e()],1)},Ye=[],Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("fill")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("color")]),s("input",{staticClass:"ipt-long",attrs:{type:"text","data-type":"color",name:"color"},domProps:{value:t.options.color},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("opacity")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"float",name:"opacity"},domProps:{value:t.options.opacity},on:{change:t.onChange}})])])])},Qe=[],ts={secName:"fill",mixins:[Ee]},es=ts,ss=Object(p["a"])(es,Ke,Qe,!1,null,null,null),as=ss.exports,ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("stroke")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("width")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"int",name:"width"},domProps:{value:t.options.width},on:{change:t.onChange}})]),t.options.width?s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("opacity")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"float",name:"opacity"},domProps:{value:t.options.opacity},on:{change:t.onChange}})]):t._e()]),t.options.width?s("div",[s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("color")]),s("input",{staticClass:"ipt-long",attrs:{type:"text","data-type":"color",name:"color"},domProps:{value:t.options.color},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("dasharray")]),s("input",{staticClass:"ipt-long",attrs:{type:"text","data-type":"string",name:"dasharray"},domProps:{value:t.options.dasharray},on:{change:t.onChange}})])]),t.options.linecap?s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("linecap")]),s("select",{staticClass:"ipt-long",attrs:{"data-type":"string",name:"linecap"},domProps:{value:t.options.linecap},on:{change:t.onChange}},[s("option",{attrs:{value:"butt"}},[t._v("butt")]),s("option",{attrs:{value:"round"}},[t._v("round")]),s("option",{attrs:{value:"square"}},[t._v("square")]),s("option",{attrs:{value:"inherit"}},[t._v("inherit")])])])]):t._e()]):t._e()])},is=[],ls={secName:"stroke",mixins:[Ee]},rs=ls,os=Object(p["a"])(rs,ns,is,!1,null,null,null),cs=os.exports,ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("legend",[t._v("font")]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("family")]),s("input",{staticClass:"ipt-long",attrs:{type:"text","data-type":"string",name:"family"},domProps:{value:t.options.family},on:{change:t.onChange}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("size")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"string",name:"size"},domProps:{value:t.options.size},on:{change:t.onChange}})]),s("label",{staticClass:"lbl"},[s("span",{staticClass:"inline"},[t._v("weight")]),s("input",{staticClass:"ipt-small",attrs:{type:"text","data-type":"string",name:"weight"},domProps:{value:t.options.weight},on:{change:t.onChange}})])])])},us=[],ds={secName:"font",mixins:[Ee]},hs=ds,ms=Object(p["a"])(hs,ps,us,!1,null,null,null),vs=ms.exports,fs={components:{Fill:as,Stroke:cs,Font:vs},props:["options"],computed:{fill(){return this.options.fill},stroke(){return this.options.stroke},font(){return this.options.font}}},Cs=fs,ys=Object(p["a"])(Cs,Xe,Ye,!1,null,null,null),_s=ys.exports;const{CURRENT_INFO:gs}=A,{CHANGE_SHAPE_INDEX:Es,RESET_SHAPE_OPTIONS:bs}=R;var xs={components:{FormCircle:Se,FormEllipse:Re,FormLine:He,FormRect:Ge,FormText:Be,Sections:_s},computed:{...Object(T["c"])([gs]),figure(){return this[gs].figure},fValue(){return this.figure.value},isChanged(){return this.figure.isChanged}},methods:{...Object(T["d"])([Es,bs]),componentName(t){return["form",t].join("-")},onChangeIndex(t){const{value:e,dataset:s}=t.target;this[Es]({value:e,dataType:s.type})},onReset(){this[bs]()}}},js=xs,Ss=(s("35fb"),Object(p["a"])(js,fe,Ce,!1,null,null,null)),Ps=Ss.exports,Os={components:{SvgForms:Ps}},ws=Os,Ts=(s("66cc"),Object(p["a"])(ws,me,ve,!1,null,"3e9488e6",null)),As=Ts.exports;const Rs="Are you sure want to delete the project?",{CURRENT_INFO:Ns}=A,{LOAD_PROJECT:ks,DELETE_PROJECT:zs}=N;var Is={name:"project",components:{Toolbar:et,List:Ct,Preview:he,Setting:As},computed:{...Object(T["c"])([Ns]),project(){const t=this[Ns].project;return t&&t.value}},methods:{...Object(T["b"])([ks,zs]),async onProjectRemove(){confirm(Rs)&&(await this[zs](),this.$router.push("/projects"))}},async created(){const t=Number(this.$route.params.id);await this[ks](t)},watch:{project(t){this.$root.setTitle(t&&t.name)}}},Ds=Is,Hs=(s("974d"),Object(p["a"])(Ds,L,F,!1,null,"3b28a3a6",null)),$s=Hs.exports,Js=[{path:"/projects",component:J,meta:{title:"Projects"}},{path:"/project/:id",component:$s}];a["a"].use(h["a"]);const Ls=P.concat(Js),Fs=new h["a"]({mode:"history",base:"/vue-svg-editor-example/",routes:Ls});var Vs=Fs,Gs={projects:[],current:{original:{project:null,shapes:[],figure:null},duplicate:{project:null,shapes:[],figure:null}}},Ws=s("3f4f");const Us="svg-editor",qs="projects",Ms="shapes",Zs="project",Bs="readwrite";let Xs;const Ys={async open(t=Us){Xs=await Object(Ws["a"])(t,1,{upgrade(t){const e={keyPath:"id",autoIncrement:!0};t.createObjectStore(qs,e),t.createObjectStore(Ms,e).createIndex(Zs,"projectId")}})},async clear(){const t=Xs.transaction([qs,Ms],Bs),e=t.objectStore(qs),s=t.objectStore(Ms);await Promise.all([s.clear(),e.clear(),t.done])}},Ks={projects:{async create(t){return Xs.add(qs,t)},async readAll(){return Xs.getAll(qs)},async read(t){return Xs.get(qs,t)},async update(t){return Xs.put(qs,t)},async delete(t){const e=Xs.transaction([qs,Ms],Bs),s=e.objectStore(qs),a=e.objectStore(Ms);async function n(){let e=await a.index(Zs).openCursor(t);while(e)await e.delete(),e=await e.continue()}await Promise.all([n(),s.delete(t),e.done])}},shapes:{async create(t){return Xs.add(Ms,t)},async readAll(t){return Xs.getAllFromIndex(Ms,Zs,t)},async update(t){return Xs.put(Ms,t)},async delete(t){return Xs.delete(Ms,t)}}},Qs=240,ta=240,ea="px",sa={newest:{name:""},modify(t){return Object.assign({modified:Date.now(),size:{width:Qs,height:ta,unit:ea}},t)}},aa="circle",na="ellipse",ia="line",la="rect",ra="text",oa={color:"silver",opacity:1},ca={width:2,color:"black",opacity:1,dasharray:""},pa={family:"",size:"24px",weight:""},ua={options:{[aa]:{cx:Qs/2,cy:ta/2,r:20,fill:oa,stroke:ca},[na]:{cx:Qs/2,cy:ta/2,rx:40,ry:20,fill:oa,stroke:ca},[ia]:{x1:Qs/2,y1:ta/2,x2:Qs,y2:ta/2,stroke:Object.assign({linecap:"butt"},ca)},[la]:{x:0,y:0,rx:0,ry:0,width:Qs/2,height:ta/2,fill:oa,stroke:ca},[ra]:{value:"T",x:0,y:ta/2,fill:oa,stroke:ca,font:pa}},newest:{type:"",name:"",index:0},indexStep:5,modify(t,e,s){const a=Object.assign({projectId:e,options:this.options[t.type]},this.newest,t);return a.index=s+this.indexStep,a}},da=[{type:"circle",name:"Circle"},{type:"ellipse",name:"Ellipse"},{type:"line",name:"Line"},{type:"rect",name:"Rectangle"},{type:"text",name:"Text"}];var ha={types:da},ma={shapeTypes(){return ha.types},async loadProjects(){return await Ks.projects.readAll()},async loadProject(t){return await Ks.projects.read(t)},async createProject(t){const e=sa.modify(t);return e.id=await Ks.projects.create(e),e},async updateProject(t){return await Ks.projects.update(t)},async deleteProject(t){return await Ks.projects.delete(t)},async loadShapes(t){return await Ks.shapes.readAll(t)},async createShape(t,e,s){const a=ua.modify(t,e,s);return a.id=await Ks.shapes.create(a),a},async updateShape(t){return await Ks.shapes.update(t)},async deleteShape(t){return await Ks.shapes.delete(t)}},va={[A.PROJECTS](t){return t.projects},[A.SHAPE_TYPES](){return ma.shapeTypes()},[A.CURRENT_INFO](t){return t.current.duplicate}};function fa(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;let s,a,n,i;if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(a=0;a<s;a++)if(!fa(t[a],e[a]))return!1;return!0}if(n=Object.keys(t),s=n.length,s!==Object.keys(e).length)return!1;for(a=0;a<s;a++)if(!e.hasOwnProperty(n[a]))return!1;for(a=0;a<s;a++)if(i=n[a],!fa(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}function Ca(t,e){t&&e&&(Array.isArray(e)&&e.forEach((e,s)=>{Ca(t[s],e)}),Object.keys(e).forEach((function(s){if(!t.hasOwnProperty(s))throw new Error("target has not own property - "+s);let a=e[s];Array.isArray(a)||"object"===typeof a?Ca(t[s],a):t[s]=a})))}var ya={clone(t){return JSON.parse(JSON.stringify(t))},resetValues(t,e){Ca(t,e)},equal(t,e){return fa(t,e)}};function _a(t,e){return function(s){const a=e?s[e].id:s.id;return a===t}}function ga(t,e=1){return function(s,a){const n=s[t]-a[t];return e>0?n:-1*n}}var Ea={int(t){let e=Number.parseInt(t);return isNaN(e)&&(e=0),e},float(t){let e=Number.parseFloat(t);return isNaN(e)&&(e=0),e},color(t){return t},string(t){return t.trim()}};function ba(t){t.sort(ga("modified",-1))}function xa(t){t.sort((function(t,e){return t.value.index-e.value.index}))}function ja(t,e=!1){return{value:t,isChanged:!!e&&{size:!1,shapes:!1}}}function Sa(t){const{original:e,duplicate:s}=t.current;return{originalSize:e.project.size,duplicateProject:s.project,duplicateSize:s.project.value.size}}function Pa(t){return t.current.duplicate.shapes.filter(t=>t.isChanged)}function Oa(t){return Pa(t).length>0}function wa(t){return t.current.duplicate.project.isChanged.shapes?Pa(t):[]}var Ta={[R.SET_PROJECTS](t,e){ba(e),t.projects=e},[R.SET_PROJECT](t,e){const{original:s,duplicate:a}=t.current;e.modified=Date.now(),s.project=e,a.project=ja(ya.clone(e),!0)},[R.RESET_PROJECT](t){const{original:e,duplicate:s}=t.current;e.project=s.project=null,e.shapes=[],s.shapes=[]},[R.ADD_NEW_PROJECT](t,e){t.projects.unshift(e)},[R.REMOVE_PROJECT](t,e){const s=t.projects,a=s.findIndex(_a(e));a<0||s.splice(a,1)},[R.ADD_NEW_SHAPE](t,e){const{original:s,duplicate:a}=t.current;s.shapes.push(e),s.figure=e;const n=ja(ya.clone(e));a.shapes.push(n),a.figure=n},[R.SET_SHAPES](t,e){const{original:s,duplicate:a}=t.current;e.sort(ga("index")),s.shapes=e,a.shapes=e.map((function(t){return ja(ya.clone(t))}))},[R.SET_FIGURE](t,e){const{original:s,duplicate:a}=t.current;a.figure=e,s.figure=e&&s.shapes.find(_a(e.value.id))},[R.REMOVE_SHAPE](t,e){const{original:s,duplicate:a}=t.current;let n=s.shapes,i=n.findIndex(_a(e));n.splice(i,1),n=a.shapes,i=n.findIndex(_a(e,"value")),n.splice(i,1)},[R.CHANGE_SIZE](t,e){const{originalSize:s,duplicateProject:a,duplicateSize:n}=Sa(t);n[e.name]=Ea[e.dataType](e.value),a.isChanged.size=!ya.equal(s,n)},[R.RESET_SIZE](t){const{originalSize:e,duplicateProject:s,duplicateSize:a}=Sa(t);ya.resetValues(a,e),s.isChanged.size=!1},[R.CHANGE_SHAPE_INDEX](t,e){const{original:s,duplicate:a}=t.current,n=s.figure,i=a.figure.value;i.index=Ea[e.dataType](e.value),a.figure.isChanged=!ya.equal(n,i),xa(a.shapes),a.project.isChanged.shapes=Oa(t)},[R.CHANGE_SHAPE_OPTION](t,e){const{original:s,duplicate:a}=t.current,{secName:n,propName:i,value:l,dataType:r}=e,o=Ea[r](l),c=a.figure,p=c.value,u=p.options;n?u[n][i]=o:u[i]=o,c.isChanged=!ya.equal(s.figure,p),a.project.isChanged.shapes=Oa(t)},[R.RESET_SHAPE_OPTIONS](t){const{original:e,duplicate:s}=t.current,a=s.figure;ya.resetValues(a.value,e.figure),a.isChanged=!1,s.project.isChanged.shapes=Oa(t),xa(s.shapes)},[R.SET_SAVED_INFO](t){const{original:e,duplicate:s}=t.current;let a;ya.resetValues(e.project,s.project.value),wa(t).forEach((function(t){a=e.shapes.find(_a(t.value.id)),ya.resetValues(a,t.value),t.isChanged=!1}));const n=s.project.isChanged;n.size=n.shapes=!1,ba(t.projects)}},Aa={async[N.LOAD_PROJECTS]({commit:t}){const e=await ma.loadProjects();t(R.SET_PROJECTS,e)},async[N.LOAD_PROJECT]({commit:t,state:e},s){let a=e.projects.find(_a(s));a||(a=await ma.loadProject(s),a)?t(R.SET_PROJECT,a):t(R.RESET_PROJECT)},async[N.CREATE_NEW_PROJECT]({commit:t,state:e},s){const a=await ma.createProject(s);t(R.ADD_NEW_PROJECT,a)},async[N.DELETE_PROJECT]({commit:t,state:e}){const s=e.current.original.project.id;await ma.deleteProject(s),t(R.REMOVE_PROJECT,s),t(R.RESET_PROJECT)},async[N.CREATE_NEW_SHAPE]({commit:t,state:e},s){const{project:a,shapes:n}=e.current.original,i=a.id,l=n.length,r=l?n[l-1].index:0,o=await ma.createShape(s,i,r);t(R.ADD_NEW_SHAPE,o)},async[N.LOAD_SHAPES]({commit:t,state:e}){const s=e.current.original.project.id,a=await ma.loadShapes(s);t(R.SET_SHAPES,a)},async[N.DELETE_SHAPE]({commit:t,state:e}){const s=e.current.original.figure.id;await ma.deleteShape(s),t(R.REMOVE_SHAPE,s),t(R.SET_FIGURE,null)},async[N.SAVE_ALL]({commit:t,state:e}){const{project:s,shapes:a}=e.current.duplicate;if(await ma.updateProject(s.value),s.isChanged.shapes){const t=a.filter(t=>t.isChanged),e=t.length;if(e)for(let s=0;s<e;s++)await ma.updateShape(t[s].value)}t(R.SET_SAVED_INFO)}};a["a"].use(T["a"]);let Ra=!0;Ra=!1;var Na=new T["a"].Store({strict:Ra,state:Gs,getters:va,mutations:Ta,actions:Aa});a["a"].config.productionTip=!1;const ka={router:Vs,store:Na},za=new a["a"](Object.assign(d,ka));function Ia(t){return Ys.open(t).then(()=>{za.$mount("#app")})}Ia()},"5dc4":function(t,e,s){"use strict";var a=s("36a3"),n=s.n(a);n.a},"66cc":function(t,e,s){"use strict";var a=s("4d9d"),n=s.n(a);n.a},7241:function(t,e,s){},7541:function(t,e,s){},"7d34":function(t,e,s){"use strict";var a=s("7241"),n=s.n(a);n.a},"803b":function(t,e,s){},"8ae9":function(t,e,s){},9042:function(t,e,s){"use strict";var a=s("e051"),n=s.n(a);n.a},"974d":function(t,e,s){"use strict";var a=s("bd93"),n=s.n(a);n.a},ad2c:function(t,e,s){"use strict";var a=s("b609"),n=s.n(a);n.a},b609:function(t,e,s){},bd93:function(t,e,s){},dee7:function(t,e,s){"use strict";var a=s("1be9"),n=s.n(a);n.a},df36:function(t,e,s){"use strict";var a=s("8ae9"),n=s.n(a);n.a},e051:function(t,e,s){},f245:function(t,e,s){"use strict";var a=s("2e9c"),n=s.n(a);n.a},f6ae:function(t,e,s){}});